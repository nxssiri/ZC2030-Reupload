import { getProviders, signIn } from "next-auth/react"
import React from "react";
import router from "next/router";

export default function SignIn({ providers }) {
  const logo = "/logo100px-noText.png";

  return (
      <div className='h-screen'>
        <svg className='absolute w-full h-full' id="visual" viewBox="0 0 900 600" width="900" height="600" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1">
          <rect x="0" y="0" width="900" height="600" fill="#001220"/>
          <path d="M0 400L16.7 411.5C33.3 423 66.7 446 100 452.5C133.3 459 166.7 449 200 450.5C233.3 452 266.7 465 300 448.8C333.3 432.7 366.7 387.3 400 375.2C433.3 363 466.7 384 500 403C533.3 422 566.7 439 600 433.3C633.3 427.7 666.7 399.3 700 399.7C733.3 400 766.7 429 800 438.8C833.3 448.7 866.7 439.3 883.3 434.7L900 430L900 601L883.3 601C866.7 601 833.3 601 800 601C766.7 601 733.3 601 700 601C666.7 601 633.3 601 600 601C566.7 601 533.3 601 500 601C466.7 601 433.3 601 400 601C366.7 601 333.3 601 300 601C266.7 601 233.3 601 200 601C166.7 601 133.3 601 100 601C66.7 601 33.3 601 16.7 601L0 601Z" fill="#57bc90"/>
          <path d="M0 374L16.7 391.8C33.3 409.7 66.7 445.3 100 466.3C133.3 487.3 166.7 493.7 200 490C233.3 486.3 266.7 472.7 300 456.5C333.3 440.3 366.7 421.7 400 426.8C433.3 432 466.7 461 500 468.3C533.3 475.7 566.7 461.3 600 442.7C633.3 424 666.7 401 700 404.2C733.3 407.3 766.7 436.7 800 447.8C833.3 459 866.7 452 883.3 448.5L900 445L900 601L883.3 601C866.7 601 833.3 601 800 601C766.7 601 733.3 601 700 601C666.7 601 633.3 601 600 601C566.7 601 533.3 601 500 601C466.7 601 433.3 601 400 601C366.7 601 333.3 601 300 601C266.7 601 233.3 601 200 601C166.7 601 133.3 601 100 601C66.7 601 33.3 601 16.7 601L0 601Z" fill="#53c0a6"/>
          <path d="M0 524L16.7 518.2C33.3 512.3 66.7 500.7 100 498.7C133.3 496.7 166.7 504.3 200 506C233.3 507.7 266.7 503.3 300 497.5C333.3 491.7 366.7 484.3 400 491C433.3 497.7 466.7 518.3 500 526.7C533.3 535 566.7 531 600 521.7C633.3 512.3 666.7 497.7 700 484.7C733.3 471.7 766.7 460.3 800 465.7C833.3 471 866.7 493 883.3 504L900 515L900 601L883.3 601C866.7 601 833.3 601 800 601C766.7 601 733.3 601 700 601C666.7 601 633.3 601 600 601C566.7 601 533.3 601 500 601C466.7 601 433.3 601 400 601C366.7 601 333.3 601 300 601C266.7 601 233.3 601 200 601C166.7 601 133.3 601 100 601C66.7 601 33.3 601 16.7 601L0 601Z" fill="#58c4b9"/>
          <path d="M0 485L16.7 486.7C33.3 488.3 66.7 491.7 100 491.8C133.3 492 166.7 489 200 484.7C233.3 480.3 266.7 474.7 300 471.7C333.3 468.7 366.7 468.3 400 470C433.3 471.7 466.7 475.3 500 482.7C533.3 490 566.7 501 600 512.8C633.3 524.7 666.7 537.3 700 529.7C733.3 522 766.7 494 800 491.7C833.3 489.3 866.7 512.7 883.3 524.3L900 536L900 601L883.3 601C866.7 601 833.3 601 800 601C766.7 601 733.3 601 700 601C666.7 601 633.3 601 600 601C566.7 601 533.3 601 500 601C466.7 601 433.3 601 400 601C366.7 601 333.3 601 300 601C266.7 601 233.3 601 200 601C166.7 601 133.3 601 100 601C66.7 601 33.3 601 16.7 601L0 601Z" fill="#65c7c8"/>
          <path d="M0 550L16.7 545.5C33.3 541 66.7 532 100 534.3C133.3 536.7 166.7 550.3 200 548.8C233.3 547.3 266.7 530.7 300 523C333.3 515.3 366.7 516.7 400 526.7C433.3 536.7 466.7 555.3 500 559.5C533.3 563.7 566.7 553.3 600 550C633.3 546.7 666.7 550.3 700 548.5C733.3 546.7 766.7 539.3 800 535.8C833.3 532.3 866.7 532.7 883.3 532.8L900 533L900 601L883.3 601C866.7 601 833.3 601 800 601C766.7 601 733.3 601 700 601C666.7 601 633.3 601 600 601C566.7 601 533.3 601 500 601C466.7 601 433.3 601 400 601C366.7 601 333.3 601 300 601C266.7 601 233.3 601 200 601C166.7 601 133.3 601 100 601C66.7 601 33.3 601 16.7 601L0 601Z" fill="#77c9d4"/>
        </svg>
        <div className='flex h-5/6'>
          <div className="m-auto bg-white z-20 p-12 border rounded-xl justify-between">
            <img src={logo}lt="Logo" className=" my-4 mx-auto"/>
            {Object.values(providers).map((provider) => (
                <div key={provider.name} className='px-3 py-2 rounded-full hover:bg-[#77C9D480]'>
                  <button className='text-2xl font-light' onClick={() => signIn(provider.id, {callbackUrl: `${window.location.origin}/`,})}>
                    Sign in with {provider.name}
                  </button>
                </div>
            ))}
          </div>
        </div>
      </div>
  )
}

// This is the recommended way for Next.js 9.3 or newer
export async function getServerSideProps(context) {
  const providers = await getProviders()
  return {
    props: { providers },
  }
}

/*
// If older than Next.js 9.3
SignIn.getInitialProps = async () => {
  return {
    providers: await getProviders()
  }
}
*/